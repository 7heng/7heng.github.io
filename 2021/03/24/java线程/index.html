<!DOCTYPE html>
<html lang="zh-Hans">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="123456789101112131415161718192021222324252627282930313233343536373839404142ä¾‹1ï¼šå®ç°Runnableæ¥å£åˆ›å»ºå¤šçº¿ç¨‹ï¼›æ­£ç¡®çš„ç¨‹åºã€‚class A implements Runnable&amp;#123;	public int tic">
    

    <!--Author-->
    
        <meta name="author" content="7heng">
    

    <!-- Title -->
    
    <title>javaçº¿ç¨‹ | Heng</title>

    <!-- Bootstrap Core CSS -->
    <link href="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/style.css">


    <!-- Custom Fonts -->
    <link href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Noto+Serif:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- jQuery -->
    <script src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="//cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
<meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Heng" type="application/atom+xml">
</head>

<body>

    <!-- Content -->
    <section class="article-container">
    <!-- Back Home -->
    <a class="nav-back" href="/">
    <i class="fa fa-puzzle-piece"></i>
</a>

        <!-- Page Header -->
        <header class="intro-header">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                        <div class="post-heading">
                            <h1>
                                javaçº¿ç¨‹
                            </h1>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Post Content -->
        <article>
            <div class="container">
                <div class="row">
                    <!-- Post Main Content -->
                    <div class="post-content col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹1ï¼šå®ç°Runnableæ¥å£åˆ›å»ºå¤šçº¿ç¨‹ï¼›æ­£ç¡®çš„ç¨‹åºã€‚</span><br><span class="line">class A implements Runnable</span><br><span class="line">&#123;</span><br><span class="line">	public int tickets &#x3D; 10000;</span><br><span class="line">	String str &#x3D; new String(&quot;æ’æ’æ’&quot;);</span><br><span class="line">		</span><br><span class="line">public void run()</span><br><span class="line">&#123;</span><br><span class="line">	while (true)</span><br><span class="line">	&#123;</span><br><span class="line">		synchronized (str)		&#x2F;&#x2F; åŒæ­¥ä»£ç å—ã€‚</span><br><span class="line">		&#123;</span><br><span class="line">			if (tickets &gt; 0)</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.printf(&quot;%sçº¿ç¨‹æ­£åœ¨å–å‡ºç¬¬%då¼ ç¥¨\n&quot;,</span><br><span class="line">					Thread.currentThread().getName(), tickets);</span><br><span class="line">				--tickets;	</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class TestTickets_2</span><br><span class="line">&#123;</span><br><span class="line">	public static void main(String[] args)</span><br><span class="line">	&#123;</span><br><span class="line">		A aa &#x3D; new A();</span><br><span class="line">		Thread t1 &#x3D; new Thread(aa);</span><br><span class="line">		t1.start();	</span><br><span class="line">		</span><br><span class="line">â€‹	Thread t2 &#x3D; new Thread(aa);</span><br><span class="line">â€‹	t2.start();		</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ç†è§£ï¼šå› ä¸ºæ˜¯å®ç°äº†Runnableæ¥å£ï¼Œæ‰€ä»¥ä¸ç®¡æ˜¯t1,t2éƒ½åªæ˜¯ä¼ é€’äº†ç±»Aé€ å‡ºæ¥çš„ä¸€ä¸ªå¯¹è±¡aa,å› æ­¤t1,t2æ‰€è®¿é—®çš„ticketså’Œstréƒ½æ˜¯åŒä¸€ä¸ªç±»ä¸­çš„å±æ€§,å¹¶ä¸ç”¨å»è®¾ç½®ä¸ºstaticã€‚æ‰€ä»¥Ticketsç›¸åŒï¼ŒåŒæ­¥ä»£ç å—é”å®šçš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤ç¨‹åºæ­£ç¡®ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹2ï¼šç›´æ¥ç»§æ‰¿Threadç±»çš„æ–¹æ³•ï¼›æ­£ç¡®çš„ç¨‹åºã€‚</span><br><span class="line">class A extends Thread</span><br><span class="line">&#123;</span><br><span class="line">	public static int tickets &#x3D; 1000;  &#x2F;&#x2F;staticä¸èƒ½çœ</span><br><span class="line">	public static String str &#x3D; new String(&quot;å“ˆå“ˆ&quot;);  &#x2F;&#x2F;staticä¸èƒ½çœ</span><br><span class="line">		</span><br><span class="line">public void run()				&#x2F;&#x2F;  é‡å†™Threadç±»ä¸­çš„runæ–¹æ³•ï¼Œæ‰€ä»¥ä¸Šä¸¤è¡Œçš„staticä¸èƒ½çœç•¥ã€‚</span><br><span class="line">&#123;</span><br><span class="line">	while (true)</span><br><span class="line">	&#123;</span><br><span class="line">		synchronized (str)		&#x2F;&#x2F; åŒæ­¥ä»£ç å—ã€‚</span><br><span class="line">		&#123;</span><br><span class="line">			if (tickets &gt; 0)</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.printf(&quot;%sçº¿ç¨‹æ­£åœ¨å–å‡ºç¬¬%då¼ ç¥¨\n&quot;,</span><br><span class="line">					Thread.currentThread().getName(), tickets);</span><br><span class="line">				--tickets;	</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class TestTickets_3</span><br><span class="line">&#123;</span><br><span class="line">	public static void main(String[] args)</span><br><span class="line">	&#123;</span><br><span class="line">		A aa1 &#x3D; new A();</span><br><span class="line">		aa1.start();	</span><br><span class="line">											&#x2F;&#x2F;  å †ä¸­å­˜åœ¨ä¸¤ä¸ªå¯¹è±¡  okï¼</span><br><span class="line">		A aa2 &#x3D; new A();</span><br><span class="line">		aa2.start();		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ç†è§£ï¼šç»§æ‰¿Threadç±»çš„Aç±»newå‡ºæ¥ä¸¤ä¸ªå¯¹è±¡aa1å’Œaa2,æœ¬è¯¥æ˜¯æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªç±»Açš„å±æ€§ï¼Œä½†å› ä¸ºç±»Aä¸­çš„å±æ€§æ˜¯static,æ‰€ä»¥aa1å’Œaa2å…±åŒæ‹¥æœ‰ticketså’Œstr,æ‰€ä»¥åŒæ­¥ä»£ç å—çš„å¯¹è±¡ç›¸åŒï¼Œå‡ºå”®çš„ticketsç›¸åŒï¼Œå› æ­¤ç¨‹åºæ­£ç¡®ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹3ï¼šç›´æ¥ç»§æ‰¿Threadç±»çš„æ–¹æ³•ï¼›æ­£ç¡®çš„ç¨‹åºã€‚</span><br><span class="line">class A extends Thread</span><br><span class="line">&#123;</span><br><span class="line">	public static int tickets &#x3D; 1000;  &#x2F;&#x2F;staticä¸èƒ½çœ</span><br><span class="line">	public String str &#x3D; new String(&quot;æ’æ’æ’&quot;);  &#x2F;&#x2F;staticä¸èƒ½çœ</span><br><span class="line">		</span><br><span class="line">public void run()				&#x2F;&#x2F; é‡å†™Threadç±»ä¸­çš„runæ–¹æ³•ï¼Œæ‰€ä»¥ä¸Šä¸¤è¡Œçš„staticä¸èƒ½çœç•¥ã€‚</span><br><span class="line">&#123;</span><br><span class="line">	String str &#x3D; &quot;æ’å­&quot;;	</span><br><span class="line">	while (true)</span><br><span class="line">	&#123;</span><br><span class="line">		synchronized (str)		&#x2F;&#x2F; åŒæ­¥ä»£ç å—ã€‚</span><br><span class="line">		&#123;</span><br><span class="line">			if (tickets &gt; 0)</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.printf(&quot;%sçº¿ç¨‹æ­£åœ¨å–å‡ºç¬¬%då¼ ç¥¨\n&quot;,</span><br><span class="line">					Thread.currentThread().getName(), tickets);</span><br><span class="line">				--tickets;	</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class TestTickets_4</span><br><span class="line">&#123;</span><br><span class="line">	public static void main(String[] args)</span><br><span class="line">	&#123;</span><br><span class="line">		A aa1 &#x3D; new A();</span><br><span class="line">		aa1.start();	</span><br><span class="line">								&#x2F;&#x2F; å †ä¸­å­˜åœ¨ä¸¤ä¸ªå¯¹è±¡</span><br><span class="line">		A aa2 &#x3D; new A();</span><br><span class="line">		aa2.start();		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ç†è§£ï¼šç»§æ‰¿Threadç±»çš„Aç±»newå‡ºæ¥ä¸¤ä¸ªå¯¹è±¡aa1å’Œaa2,æœ¬è¯¥æ˜¯æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªç±»Açš„å±æ€§ï¼Œä½†å› ä¸ºç±»Aä¸­çš„ticketså±æ€§æ˜¯static,æ‰€ä»¥aa1å’Œaa2å…±æ‹¥ticketså±æ€§ï¼Œä½†stræ˜¯éstaticçš„ï¼Œæ‰€ä»¥åŒæ­¥ä»£ç å—ä¸­çš„å¯¹è±¡å¹¶ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯åœ¨æ‰§è¡Œrun()æ–¹æ³•æ—¶,åˆé‡æ–°å®šä¹‰äº†åœ¨æ•°æ®åŒºçš„str,æ‰€ä»¥åŒæ­¥ä»£ç å—ç»‘å®šçš„è¿˜æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤è¯¥ç¨‹åºæ­£ç¡®ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹4ï¼šè°ƒç”¨Runnableæ¥å£çš„æ–¹æ³•ï¼›æ­£ç¡®çš„ç¨‹åºã€‚</span><br><span class="line">class A implements Runnable</span><br><span class="line">&#123;</span><br><span class="line">	public static int tickets &#x3D; 1000;</span><br><span class="line">	String  str &#x3D; new String(&quot;æ’&quot;);		&#x2F;&#x2F;   newå‡ºæ¥çš„stråœ¨å †åŒºï¼Œä¸¤ç§è°ƒç”¨çš„è¯ä¼šä¸æ˜¯åŒä¸€ä¸ªstr;</span><br><span class="line">		</span><br><span class="line">public void run()  </span><br><span class="line">&#123;</span><br><span class="line">	String str &#x3D; &quot;æ’å­&quot;;  				&#x2F;&#x2F; å±€éƒ¨å˜é‡strï¼Œ åœ¨æ•°æ®åŒºï¼Œæ˜¯åŒä¸€ä¸ªstr;</span><br><span class="line">	</span><br><span class="line">	while (true)</span><br><span class="line">	&#123;</span><br><span class="line">		synchronized (str)    &#x2F;&#x2F; éœ€è¦synchronized(ç±»å¯¹è±¡å)</span><br><span class="line">		&#123;</span><br><span class="line">			if (tickets &gt; 0)</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.printf(&quot;%sçº¿ç¨‹æ­£åœ¨å–å‡ºç¬¬%då¼ ç¥¨\n&quot;,</span><br><span class="line">					Thread.currentThread().getName(), tickets);</span><br><span class="line">				--tickets;	</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;		</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class TestTickets_9</span><br><span class="line">&#123;</span><br><span class="line">	public static void main(String[] args)</span><br><span class="line">	&#123;</span><br><span class="line">		A aa &#x3D; new A();</span><br><span class="line">		A bb &#x3D; new A();</span><br><span class="line">		Thread t1 &#x3D; new Thread(aa);</span><br><span class="line">		t1.start();	</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">â€‹	Thread t2 &#x3D; new Thread(bb);</span><br><span class="line">â€‹	t2.start();	</span><br><span class="line">â€‹		</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ç†è§£ï¼šç±»Aå®ç°äº†Runnableæ¥å£ï¼Œè¯¥ç¨‹åºä¸ä¾‹1ç›¸ä¼¼ï¼Œä½†è¯¥ç¨‹åºç±»A newå‡ºäº†ä¸¤ä¸ªå¯¹è±¡ï¼Œå› æ­¤å¼€è¾Ÿäº†ä¸¤å—ç©ºé—´ï¼Œt1,t2çš„å¼•ç”¨åˆ†åˆ«æ˜¯aaå’Œbb,å¹¶éåŒä¸€ä¸ªå¼•ç”¨ï¼Œä½†åœ¨ç±»Aä¸­ï¼ŒTicketsæ˜¯staticçš„ï¼Œæ‰€ä»¥t1,t2è¿˜æ˜¯å…±åŒæ‹¥æœ‰åŒä¸€ä¸ªTickets,ä½†strå¯¹äºt1,t2æ¥è¯´å°±ä¸æ˜¯åŒä¸€ä¸ªå±æ€§ï¼Œå¯æ˜¯ï¼Œåœ¨æ‰§è¡Œrun()æ–¹æ³•çš„æ—¶å€™ï¼Œé‡Œé¢å®šä¹‰äº†åœ¨æ•°æ®åŒºçš„å±€éƒ¨å˜é‡str,è¿™åˆé‡æ–°ä½¿å¾—åŒæ­¥ä»£ç å—ä¸­t1,t2æ‰€ç»‘å®šçš„å¯¹è±¡æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚å› æ­¤è¯¥ç¨‹åºä¹Ÿæ˜¯æ­£ç¡®çš„ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹5ï¼šå®ç°Runnableæ¥å£çš„æ–¹æ³•ï¼›é”™è¯¯çš„ç¨‹åºã€‚</span><br><span class="line">class A implements Runnable</span><br><span class="line">&#123;</span><br><span class="line">	public static int tickets &#x3D; 1000;</span><br><span class="line">	String  str &#x3D; new String(&quot;æ’æ’æ’æ’&quot;);		&#x2F;&#x2F;   newå‡ºæ¥çš„stråœ¨å †åŒºï¼Œä¸¤ç§è°ƒç”¨çš„è¯ä¼šä¸æ˜¯åŒä¸€ä¸ªstr;</span><br><span class="line">		</span><br><span class="line">public void run()  </span><br><span class="line">&#123;		</span><br><span class="line">â€‹	while (true)</span><br><span class="line">â€‹	&#123;</span><br><span class="line">â€‹		synchronized (str)    &#x2F;&#x2F; éœ€è¦synchronized(ç±»å¯¹è±¡å)</span><br><span class="line">â€‹		&#123;</span><br><span class="line">â€‹			if (tickets &gt; 0)</span><br><span class="line">â€‹			&#123;</span><br><span class="line">â€‹				System.out.printf(&quot;%sçº¿ç¨‹æ­£åœ¨å–å‡ºç¬¬%då¼ ç¥¨\n&quot;,</span><br><span class="line">â€‹					Thread.currentThread().getName(), tickets);</span><br><span class="line">â€‹				--tickets;	</span><br><span class="line">â€‹			&#125;</span><br><span class="line">â€‹			else</span><br><span class="line">â€‹			&#123;</span><br><span class="line">â€‹				break;</span><br><span class="line">â€‹			&#125;</span><br><span class="line">â€‹		&#125;</span><br><span class="line">â€‹	&#125;		</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class TestTickets_9</span><br><span class="line">&#123;</span><br><span class="line">	public static void main(String[] args)</span><br><span class="line">	&#123;</span><br><span class="line">		A aa &#x3D; new A();</span><br><span class="line">		A bb &#x3D; new A();</span><br><span class="line">		Thread t1 &#x3D; new Thread(aa);</span><br><span class="line">		t1.start();	</span><br><span class="line">		</span><br><span class="line">â€‹	Thread t2 &#x3D; new Thread(bb);</span><br><span class="line">â€‹	t2.start();	</span><br><span class="line">â€‹		</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ç†è§£ï¼š(å¯¹æ¯”ä¾‹4)ï¼Œå°‘äº†run()æ–¹æ³•ä¸­çš„	String str &#x3D; &quot;æ’å­&quot;;æ‰€ä»¥åŒæ­¥ä»£ç å—ä¸­çš„å¯¹è±¡å¹¶æœªæ˜¯ç»Ÿä¸€å¯¹è±¡ï¼Œå› æ­¤è¯¥ç¨‹åºé”™è¯¯ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹6ï¼šç›´æ¥ç»§æ‰¿Threadç±»çš„æ–¹æ³•ï¼›é”™è¯¯çš„ç¨‹åºã€‚</span><br><span class="line">class A extends Thread</span><br><span class="line">&#123;</span><br><span class="line">	public static int tickets &#x3D; 1000;  &#x2F;&#x2F;staticä¸èƒ½çœ</span><br><span class="line">	public String str &#x3D; new String(&quot;æ’æ’æ’&quot;);  &#x2F;&#x2F;staticä¸èƒ½çœ</span><br><span class="line">		</span><br><span class="line">public void run()				&#x2F;&#x2F; é‡å†™Threadç±»ä¸­çš„runæ–¹æ³•ï¼Œæ‰€ä»¥ä¸Šä¸¤è¡Œçš„staticä¸èƒ½çœç•¥ã€‚</span><br><span class="line">&#123;	</span><br><span class="line">	while (true)</span><br><span class="line">	&#123;</span><br><span class="line">		synchronized (str)		&#x2F;&#x2F; åŒæ­¥ä»£ç å—ã€‚</span><br><span class="line">		&#123;</span><br><span class="line">			if (tickets &gt; 0)</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.printf(&quot;%sçº¿ç¨‹æ­£åœ¨å–å‡ºç¬¬%då¼ ç¥¨\n&quot;,</span><br><span class="line">					Thread.currentThread().getName(), tickets);</span><br><span class="line">				--tickets;	</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class TestTickets_4</span><br><span class="line">&#123;</span><br><span class="line">	public static void main(String[] args)</span><br><span class="line">	&#123;</span><br><span class="line">		A aa1 &#x3D; new A();</span><br><span class="line">		aa1.start();	</span><br><span class="line">								&#x2F;&#x2F; å †ä¸­å­˜åœ¨ä¸¤ä¸ªå¯¹è±¡</span><br><span class="line">		A aa2 &#x3D; new A();</span><br><span class="line">		aa2.start();		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ç†è§£ï¼š(å¯¹æ¯”ä¾‹3)ç»§æ‰¿Threadç±»çš„Aç±»newå‡ºæ¥ä¸¤ä¸ªå¯¹è±¡aa1å’Œaa2,æœ¬è¯¥æ˜¯æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªç±»Açš„å±æ€§ï¼Œä½†å› ä¸ºç±»Aä¸­çš„ticketså±æ€§æ˜¯static,æ‰€ä»¥aa1å’Œaa2å…±æ‹¥ticketså±æ€§ï¼Œä½†stræ˜¯éstaticçš„ï¼Œæ‰€ä»¥åŒæ­¥ä»£ç å—ä¸­çš„å¯¹è±¡å¹¶ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤è¯¥ç¨‹åºé”™è¯¯ã€‚</span><br></pre></td></tr></table></figure>



                            <!-- Meta -->
                            <div class="post-meta">
                                <hr>
                                <br>
                                <div class="post-tags">
                                    
                                </div>
                                <div class="post-date">
                                    2021-03-24
                                </div>
                            </div>
                    </div>

                    <!-- Comments -->
                    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                        <!-- Disqus Comments -->


                    </div>
                </div>
            </div>
        </article>
</section>

<!-- Image viewer-->

    <!-- Custom picture view-->
    <link href="/css/viewer.min.css" rel="stylesheet" />
    <script
      src="/js/viewer.min.js"
      type="text/javascript"
      charset="utf-8"
    ></script>
    
    <script type="text/javascript">
      // set image viewer
      Viewer.setDefaults({
        zoomRatio: [0.5],
        navbar: false,
        toolbar: false,
        button: false,
        title: [2, (image, imageData) => `${image.alt}`],
        show: function() {
          this.viewer.zoomTo(0.5);
        }
      });
      var imageList = document.getElementsByTagName("img");
      Array.prototype.forEach.call(imageList, element => {
        var viewer = new Viewer(element);
      });
    </script>

    
    <!-- Scripts -->
    <script type="text/javascript">
    console.log("Â© zchen9 ğŸ™‹ 2015-" + new Date().getFullYear());
</script>
  
    <!-- Google Analytics -->
    

    <!-- Service Worker -->
    <!-- if using service worker -->

    
</body>

</html>