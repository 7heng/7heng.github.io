<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Heng</title>

  
  <meta name="author" content="7heng">
  

  

  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  

  <meta property="og:site_name" content="Heng"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Heng" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 5.2.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Heng</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    
  <article>

  
    
    <h3 class="article-title"><a href="/2020/11/25/串口通信/"><span>串口通信</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2020/11/25/串口通信/" rel="bookmark">
        <time class="entry-date published" datetime="2020-11-25T12:42:44.000Z">
          2020-11-25
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <a id="more"></a>

<p>通信有串行通信和并行通信两种方式。在多微机系统以及现代测控系统中信息的交换多采用串行通信方式。</p>
<p><strong>并行通信：</strong>通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>优点：控制简单、传输数据快。</li>
<li>缺点：由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在困难。</li>
</ul>
<p><img src="/images/Com/1.png"></p>
<p><strong>串行通信：</strong>使用一条数据线，将数据一位一位地依次传输，每一位数据占据一个固定的时间长度。只需要少数几条线就可以在系统间交换信息，特别适用于计算机与计算机，计算机与外设直间的远距离通信。</p>
<ul>
<li>优点：传输线少，长距离传送时成本低。</li>
<li>缺点：数据的传送控制比并行通信复杂。</li>
</ul>
<p><img src="/images/Com/2.png"></p>
<p>串行通信又可分为<strong>异步通信</strong>和<strong>同步通信</strong>。</p>
<p>异步通信是以字符<strong>（构成的帧）</strong>为单位，进行传输，字符与字符之间的间隙<strong>（时间间隔）</strong>是任意的，但每个字符中的各位是以固定的时间传送的，即字符之间不一定有“ 位间隔 ”的整数倍的关系，<strong>但同一字符内的各位之间的距离均为“  位间隔 ”的整数倍。</strong></p>
<p><img src="/images/Com/3.png"></p>
<p><strong>异步通信</strong>是一种很常用的通信方式（效率较低），异步通信在发送字符时，发送端可以在任意时刻开始发送字符，因此必须在每一个字符的开始和结束的地方加上标志，即加上开始位和停止位，以便使接收端能够正确地将每一个字符接受下来。所传送地数据以字节为单位。每个字节前加上一位起始位，每个字节后面加上停止位。&emsp;&emsp;优点：异步通信地好处是通信设备简单、便宜，但传输效率较低。</p>
<p><strong>同步通信：</strong></p>
<p>同步通信时要建立发送发时钟对接收方时钟地直接控制，使双方达到完全同步。此时，传输数据的位之间的距离均为“ 位间隔  ”的整数倍，同时传送的字符间不留间隙，即<strong>保持同步</strong>关系，也<strong>保持字符同步关系</strong>。发送发对接收方的同步可以通过两种方法实现。</p>
<h4 id="传输速率："><a href="#传输速率：" class="headerlink" title="传输速率："></a>传输速率：</h4><p>比特率是<strong>每秒钟传输二进制代码的位数</strong>。单位是：位/秒（bps）。如每秒中传送240个字符，而每个字符格式包含10位（1个起始位，1个终止位，8个数据位）这时的比特率为：</p>
<p>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<strong>10位 × 240个/秒 = 2400 bps</strong></p>
<p><strong>传输距离与传输速率的关系：</strong></p>
<p>串行接口或终端直接传送串行信息位流的最大距离与传输速率及传输线的<strong>电气特性</strong>有关。当传输线使用每0.3m（约1英尺）有50PF的电容的非平衡屏蔽双绞线时，<strong>传输距离随传输速率的增加而减小</strong>。<strong>当比特率超过1000bps时，最大传输距离迅速下降，如9600bps时最大距离下降到只有76m（约250英尺）</strong>。</p>
<p><strong>采用RS-232C接口存在的问题（电气特性）：</strong></p>
<ol>
<li><p><strong>传输距离短、传输效率低</strong>：</p>
<p>&emsp;&emsp;RS-232C总线标准受电容允许值的约束，使用时传输距离一般不要超过15米（线路条件好时也不要超过几十米）。最高传送速率为20kpbs。</p>
<p>&emsp;&emsp;<strong>双绞线会形成分布电容，又叫寄生电容，受电气特性自动产生</strong>，因为在三极管和场效应管会自动产生，所以会影响开通与关断的速度。</p>
<p>&emsp;&emsp;<strong>电容：两个导体产生，与两个导体间的距离成反比，与导体的面积成正比</strong>。</p>
</li>
<li><p><strong>有电平偏移</strong>：</p>
<p>&emsp;&emsp;RS-232C总线标准要求收发双方共地。通信距离较大时，收发双方的地电位差别较大。在信号地上将有比较大的地电流并产生压降。</p>
</li>
<li><p><strong>抗干扰能力差</strong>：</p>
<p>&emsp;&emsp;RS-232C在电平转换时采用单端输入输出，在传输过程中当干扰和噪声混在正常的信号中，为了提高信噪比，RS-232C总线标准不得不采用比较大的电压和摆幅。</p>
</li>
</ol>
<p><strong>SBUF：</strong></p>
<p>&emsp;&emsp;在逻辑上，SBUF只有一个，它即表示发送寄存器，又表示接收寄存器，具有同一个单元地址99H。但在物理结构上，则有两个完全独立的SBUF，一个是发送缓冲寄存器SBUF，另一个是接收缓冲寄存器SBUF。如果<strong>CPU写SBUF</strong>，数据就会被送入<strong>发送寄存器</strong>准备发送；如果<strong>CPU读SBUF</strong>，则读入的数据一定<strong>来自接收缓冲器</strong>。即CPU对SBUF的读写，实际上是分别对访问上述两个不同的寄存器。</p>
<p><strong>（收） a = SBUF;</strong>&emsp;&emsp;&emsp;<strong>（发）SBUF =a;</strong></p>
<h4 id="串行口工作前需要对相关寄存器进行配置，设定其工作模式："><a href="#串行口工作前需要对相关寄存器进行配置，设定其工作模式：" class="headerlink" title="串行口工作前需要对相关寄存器进行配置，设定其工作模式："></a>串行口工作前需要对相关寄存器进行配置，设定其工作模式：</h4><p><img src="/images/Com/4.png"></p>
<ol>
<li>设定T1的<strong>工作方式</strong>（编程TMOD寄存器）；</li>
<li>计算T1的初值，装载TH1、TL1；</li>
<li>启动T1（编程TCON中的TR1位）；</li>
<li>确定<strong>串行口控制</strong>（编程SCON寄存器）；</li>
<li>如需串行口在中断方式工作时，需进行中断设置编程IE寄存器。</li>
</ol>
<p><img src="/images/Com/5.png"></p>
<p>当T1作为波特率发生器时，最典型的用法是<strong>使T1工作在自动再装入</strong>的<strong>8位定时器方式（即方式2，且TCON的 TR1 = 1，以启动定时器）。</strong>这时溢出率取决于TH1中的计数值。</p>
<p>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<strong>T1 溢出率 = fosc / { 12 × [ 256 - (TH1) ] }</strong></p>
<p><img src="/images/Com/6.png"></p>
<p><img src="/images/Com/7.png"></p>
<p><strong>fosc:外部晶振（11.0595）</strong></p>
<p><strong>自动再装：TL1、TH1的赋值。 TL1从初值开始加，加到255溢出后，会自动取TH1的初值。</strong></p>
<p><strong>产生波特率误差要为0，不能有误差！</strong></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2020/11/16/定时计数器/"><span>定时器/计数器</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2020/11/16/定时计数器/" rel="bookmark">
        <time class="entry-date published" datetime="2020-11-16T11:55:51.000Z">
          2020-11-16
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <a id="more"></a>

<p>51单片机有2个16位定时器/计数器：定时器0和定时器1。</p>
<p>这里所说的16位是指定时/计数器内部分别有16位的计数寄存器。</p>
<p>当工作在定时模式时，每经过一个机器周期的内部的16位计数寄存器的值就会加1，当这个寄存器装满时溢出。我们可以算出工作在定时模式时最高单次定时时间为65535×1.085μS=时间（单位μS）</p>
<p>当工作在技术器模式时，T0，T1每来一个脉冲计数寄存器加1。</p>
<p>65535： 16位的计数寄存器，最大为16个1，也就是65535。</p>
<p>最大定时： 65535×1.085=71105.475μS≈71.1mS</p>
<p>时钟周期：以11.0592MHZ为例，假如51单片机的时钟为11.0592MHZ，除以12后得到每秒执行的指令个数为条指令，取倒数将得到执行每条指令所需时间为1.085μS(一个周期)</p>
<h4 id="定时器作用："><a href="#定时器作用：" class="headerlink" title="定时器作用："></a>定时器作用：</h4><p>定时计数器可以用于精确事件定时，PWM脉宽调制，波形发生，信号时序测量的方面。</p>
<h4 id="使用51定时-技术器步骤："><a href="#使用51定时-技术器步骤：" class="headerlink" title="使用51定时/技术器步骤："></a>使用51定时/技术器步骤：</h4><ul>
<li>启动定时/计数器（通过TCON控制器）</li>
<li>设置定时/计数器（通过TMOD控制器）</li>
<li>查询定时/计数器是否溢出（读TCON内TF位）</li>
</ul>
<p><img src="/images/Time/0.png"></p>
<p>计数器：每来一个脉冲计数寄存器加1。一个高电平一个低电平形成一个脉冲。</p>
<p>TMOD控制器中C/T位为功能选择位：为0时为定时器，为1时为计数器。</p>
<blockquote>
<p>定时器举例：</p>
<p>TR0 = 1; &emsp;&emsp;&emsp;&emsp;// 定时器0工作</p>
<p>TMOD - 0X01;&emsp;&emsp;&emsp;&emsp;// 16位定时器/计数器</p>
<p>TH0 = 0X4B;   &emsp;&emsp;&emsp;&emsp;// (65535-46082) / 256 &emsp;&emsp; 高位赋值</p>
<p>TL0 = 0XFD;&emsp;&emsp;&emsp;&emsp;// (65535-46082）% 256&emsp;&emsp;低位赋值</p>
<p>if(TF0 == 1)&emsp;&emsp;&emsp;&emsp;&emsp;// 加满产生溢出;不用中断响应的情况下要软件清0。”置 ”1“ 为硬件置 “1” “</p>
</blockquote>
<p>例如：</p>
<p> &emsp;定时50毫秒（mS）= 50000 微秒(μS)&emsp;&emsp;//因为执行计数的加1为微秒级</p>
<p> &emsp;50000÷1.085≈46082；</p>
<p> &emsp;65535-46082 = 初值；</p>
<ul>
<li>如果同时使用定时器计数器，都需要对同一个寄存位赋值时，可以用 |=（或等于）符号，相当于两个值进行求和，这样可以同时利用定时器和计数器。</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2020/11/15/中断系统/"><span>中断系统</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2020/11/15/中断系统/" rel="bookmark">
        <time class="entry-date published" datetime="2020-11-15T12:30:29.000Z">
          2020-11-15
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <a id="more"></a>

<h4 id="复位电路："><a href="#复位电路：" class="headerlink" title="复位电路："></a>复位电路：</h4><p><img src="http://www.elecfans.com/uploads/allimg/180105/160R15593-0.jpg"></p>
<p>复位电路的两个功能：</p>
<ul>
<li>上电复位（程序在裕兴期间可能会存在执行到一半突然断电的情况，再上电时必须为零从新开始，否则可能会出现错误，因此需要上电复位）</li>
<li>手动复位</li>
</ul>
<p>不运行程序的时候可以测试一下RST，如果处于高电平则是一直处于复位状态，用杜邦线将它接地即可开始运行。</p>
<p>RST（RESET）是复位信号输入端，当单片机运行时，在此引脚上持续两个机器周期的高电平时，就可以完成复位操作。</p>
<p>上电复位：</p>
<p>ECI：一个10μF的电容，当电容里电流每充满时，相当于断路状态，当电流充满，电流流经R2至地与RST（R2电阻限制流经ECI电容的电流大小，使得充电更为缓慢，当电容满时表现出通交隔直（通交流电隔直流电的状态）。因为电容充满电的状态大于两个时钟周期以上，所以RST会完成复位操作。电容充满电流不再流过，RST会通过R2流至地，变为0V，完成复位，开始正常工作。</p>
<p>手动复位：</p>
<p>按下S1按键，VCC经过R1通至RST两个机器周期的高电平，完成复位操作。</p>
<h4 id="中断："><a href="#中断：" class="headerlink" title="中断："></a>中断：</h4><p>计算机执行某程序时，发生了紧急事件或有特殊请求，CPU暂停某程序的执行，转而去处理上述事件或请求，处理完毕后再重新执行某程序的运行过程叫做中断。</p>
<p>中断分为四个步骤：</p>
<ul>
<li>中断请求–&gt;中断响应–&gt;中断处理–&gt;中断返回</li>
</ul>
<p>数据的输出/输出传送方式：</p>
<ul>
<li>无条件传送方式：一方对另一方来说总是准备好的。</li>
<li>查询传输方式（Look up）：传送前一方先查询另一方的状态，若已准备好就传送，否则就继续查询/等待。</li>
<li>中断传送方式（IRQ）：一方通过申请中断的方式与另一方进行数据传送。</li>
<li>直接存储器存取方式（DMA）：双方直接通过总线传送数据，不经CPU中转。适用于数量大高速通讯的设备，不占用CPU时间。</li>
</ul>
<p>中断系统结构：</p>
<p><img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=1076873358,2154005421&fm=26&gp=0.jpg"></p>
<h4 id="51子系列允许5个中断源："><a href="#51子系列允许5个中断源：" class="headerlink" title="51子系列允许5个中断源："></a>51子系列允许5个中断源：</h4><p>外部中断源（2个）：</p>
<ul>
<li>INTO—-由P3.2端口线引入，低电平或下降沿引起。</li>
<li>INT1—-由P3.3端口线引入，低电平或下降沿引起。</li>
</ul>
<p>这两个外部中断源标志和它们的触发方式控制由特殊功能寄存器TCON的低4位控制。</p>
<p>内部中断源（3个）：</p>
<ul>
<li>T0—-定时器/计数器0中断，由T0回零溢出引起。</li>
<li>T1—-定时器/计数器1中断，由T1回零溢出引起。</li>
<li>T1/R1—-串行中断i/O中断，串行端口完成一个帧字符发送/接收后引起。这3个内部中断源的控制分别锁存在特殊功能寄存器TCON和SCON中。</li>
</ul>
<h4 id="单片机同优先级中段内部查询顺序："><a href="#单片机同优先级中段内部查询顺序：" class="headerlink" title="单片机同优先级中段内部查询顺序："></a>单片机同优先级中段内部查询顺序：</h4><p>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;中断源&emsp;&emsp; &emsp;| &emsp;&emsp;中断级别</p>
<p>&nbsp;&nbsp;外部中断0 &emsp;中断入口0&emsp;&emsp;&emsp;&emsp;&emsp;最高</p>
<p>&nbsp;&nbsp;T0溢出中断&nbsp;&emsp;中断入口1</p>
<p>&nbsp;&nbsp;外部中断0&emsp;中断入口2</p>
<p>&nbsp;&nbsp;T1溢出中断&emsp;&nbsp;中断入口3</p>
<p>&nbsp;&nbsp;串行口中断&emsp;中断入口4&emsp;&emsp;&emsp;&emsp;&emsp;最低</p>
<h4 id="流程："><a href="#流程：" class="headerlink" title="流程："></a>流程：</h4><blockquote>
<p>开总中断；</p>
<p>开外部中断；</p>
<p>中断触发条件（低电平或跳变沿）</p>
</blockquote>
<p>中断函数：</p>
<blockquote>
<p>void function(&emsp;)&emsp;interrupt 2 &emsp;&emsp;&emsp;//中断处理函数，加关键字interrupt和入口号</p>
<p>{</p>
<p>中断处理语句；</p>
<p>}</p>
</blockquote>
<p>中断示例：</p>
<blockquote>
<p>//显示函数<br>void display()<br>{<br>    *<strong>****</strong><br>}</p>
<p>//定时器0初始化<br>void timer0Init()<br>{<br>    EA = 1;  //开总中断<br>    ET0 = 1;  //开定时器0中断<br>    TR0 = 1;   //定时器0工作<br>    TMOD = 0x01;   //16位<br>    TH0 = 0x4b;<br>    TL0 = 0xfd;  //延时时间<br>}<br>//主函数<br>void main()<br>{<br>    timer0Init();<br>    <strong>****</strong><br>}</p>
<p>//中断函数<br>void timor0() interrupt 1<br>{<br>    TH0 = 0x4b;<br>    TL0 = 0xfd;  //延时时间<br>    display();<br>} </p>
</blockquote>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2020/11/14/独立按键与矩阵键盘/"><span>独立按键与矩阵键盘</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2020/11/14/独立按键与矩阵键盘/" rel="bookmark">
        <time class="entry-date published" datetime="2020-11-14T12:56:49.000Z">
          2020-11-14
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <a id="more"></a>

<p>单片机上使用的大部分都是轻触开关，轻触按键。</p>
<p>独立键盘：每个按键占用一个io口，当按键数量较多时，io口利用效率不高，但程序简单，适用于所需按键较少的场合。</p>
<p>矩阵键盘：电路连接复杂，但提高了io口的利用率，软件编程较复杂。适用于使用大量按键的场合。</p>
<p>独立按键：</p>
<p><img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1605369130375&di=722c9e7cdf6e555ce1bd1cdc4e89e91c&imgtype=0&src=http://file.elecfans.com/web1/M00/BC/8C/pIYBAF67T1uAZUyPAABtB6TAq94163.jpg"></p>
<p>&emsp;&emsp;按键的一端与io口连接，另一端接地。通过控制io口输出高电平即可检测按键是否按下，当按下时io口会被拉低，松开后io口回到高电平。</p>
<p><img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1605369468198&di=466d5acd491ae5e475abc7b87bb9782d&imgtype=0&src=http://6.eewimg.cn/news/uploadfile/2020/0225/1582610369554153.jpg"></p>
<p>&emsp;&emsp;准双向io口： 在准双向io口的管脚处接一个轻触独立按键，另一端接地。当内部输出为1时，经过非门变为0，G与S之间无正电压，场效应管不导通，因为内部有上拉电阻，所以D会被拉到5V，如果按键没有按下，那么此处还是为5V，如果按键按下，线路相当于直接接到地线上，那么会被拉低变为0V，因为电流会往阻抗低的地方流。</p>
<h4 id="按键特性："><a href="#按键特性：" class="headerlink" title="按键特性："></a>按键特性：</h4><p>&emsp;机械按键在按下或松开时会存在抖动现象。</p>
<blockquote>
<p>在编写程序时需要进行消除抖动</p>
</blockquote>
<h4 id="矩阵键盘："><a href="#矩阵键盘：" class="headerlink" title="矩阵键盘："></a>矩阵键盘：</h4><p>确定矩阵键盘上哪一个按键被按下可以采用列扫描和行扫描。列扫描时先把接在列上面的所有io口拉高，接在行上面的所有io口置低。（行扫描时先把接在行上面的所有io口拉高，接在列上面的所有io口置低）当其中有一列内任何一个按键按下那么整条列线都会被拉低。</p>
<h5 id="8×8LED点阵屏："><a href="#8×8LED点阵屏：" class="headerlink" title="8×8LED点阵屏："></a>8×8LED点阵屏：</h5><ul>
<li>行线为点阵屏LED灯的正极为共阳极点阵屏。</li>
<li>列线为点阵屏LED灯的正极为共阴极点阵屏。</li>
</ul>
<p>&emsp;&emsp;点阵屏动态显示相当于数码管动态显示，是一个一个亮来显示的，但是由于机器运行速度很快，而且人眼的延时效果，所以看着时同时在显示。</p>
<p>&emsp;&emsp;点阵屏驱动需要很多的io口，设计电路时应该尽可能节省io口的利用，所以驱动点阵屏</p>
<p>可以利用74HC595芯片通过级联来控制点阵屏。74HC595大大节省了io口的利用。</p>
<p>74HC595芯片是一种串入并出的芯片，是8位串行输入/输出或者并行输出的移位寄存器。（以压栈的方式进行工作）</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2020/11/13/数码管/"><span>数码管</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2020/11/13/数码管/" rel="bookmark">
        <time class="entry-date published" datetime="2020-11-13T13:50:38.000Z">
          2020-11-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <a id="more"></a>

<p>数码管：</p>
<p><img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1605361170090&di=1e0ea0a40fc5bce489b8d45f8ed82559&imgtype=0&src=http://gss0.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/b999a9014c086e0631bbface01087bf40ad1cb20.jpg"></p>
<p>数码管根据内部连接的不同分为共阴极和共阳极。八段数码管内部有8颗LED组成，如果想要显示特定字形，只需控制相应的LED亮起，其它LED熄灭即可。</p>
<h4 id="判断数码管是共阴极还是共阳极"><a href="#判断数码管是共阴极还是共阳极" class="headerlink" title="判断数码管是共阴极还是共阳极:"></a>判断数码管是共阴极还是共阳极:</h4><p> &nbsp; &emsp;&nbsp;如果是共阴极，中间公共脚为GND，如果是共阳极，中间公共脚为VCC。</p>
<p> &emsp;&nbsp;&nbsp;用万用表黑笔脚接在公共脚上，红笔表假设接在a上，如果a恒亮，代表是一个共阴极数码管。如果a不亮，将黑表笔接在a脚，红表笔接在公共脚上，如果a恒亮，则为共阳极。(指针式万用表在电阻挡，红表笔输出负电压，是负极。黑表笔输出正电压，是正极。 &emsp;一般为红正极黑负极。)</p>
<h4 id="锁存器："><a href="#锁存器：" class="headerlink" title="锁存器："></a>锁存器：</h4><p><img src="http://www.elecfans.com/article/UploadPic/2008-4/2008411031937957.jpg"></p>
<p><img src="http://www.elecfans.com/article/UploadPic/2008-4/20084110314262946.jpg"></p>
<h4 id="上拉电阻的作用"><a href="#上拉电阻的作用" class="headerlink" title="上拉电阻的作用:"></a>上拉电阻的作用:</h4><p>&emsp;&emsp;上拉就是将不确定的信号通过一个电阻钳位在高电平，电阻同时起限流作用。下拉同理，也是将不确定的信号通过一个电阻钳位在低电平。</p>
<p>&emsp;&emsp;当P0口作为输入/输出口时，上电复位后处于开漏模式。P0口内部无上拉电阻，所以作io口必须外接10k~ 4.7k的上拉电阻。</p>
<p><img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1605366286862&di=2677112b48636c43f39ae464924c4dd8&imgtype=0&src=http://pics6.baidu.com/feed/8694a4c27d1ed21b878053600e7482c350da3f8f.jpeg?token=dc2d75945facce9c7b435202621b3fc8"></p>
<h4 id="场效应管"><a href="#场效应管" class="headerlink" title="场效应管:"></a>场效应管:</h4><p><img src="https://dfsimg1.hqewimg.com/group1/M00/12/63/wKhk713mAyaAfEUWAAA_CTEWvaw730.jpg"></p>
<p>三个电极分别是：</p>
<ul>
<li>栅极 G</li>
<li>源计 S</li>
<li>漏极 D</li>
</ul>
<p>与三极管相比，场效应管具有很高的输入电阻。</p>
<p>准双向io口可以正常输出高低电平。</p>
<p>漏极开漏输出：</p>
<ul>
<li>可以输出低电频，但不可以输出高电频。（因此要加一个上拉电阻，才可以既能输出高电频又能输出低电频。&lt;源极S接地，G与S之间要有一个正偏，场效应管(D与S之间)才能导通&gt; ）</li>
</ul>
<blockquote>
<p>数码管输入数据时流程：</p>
<ul>
<li>打开位选锁存器</li>
<li>赋予数据</li>
<li>锁存位选数据，关闭位选锁存器</li>
<li>打开段选锁存器</li>
<li>赋予数据</li>
<li>锁存器段选数据，关闭段选锁存器</li>
</ul>
</blockquote>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2020/11/10/蜂鸣器/"><span>蜂鸣器</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2020/11/10/蜂鸣器/" rel="bookmark">
        <time class="entry-date published" datetime="2020-11-10T13:02:59.000Z">
          2020-11-10
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <a id="more"></a>
<p>有源蜂鸣器与无源蜂鸣器区别：  </p>
<ul>
<li><p>外形不同：<br>&nbsp;&nbsp;&nbsp;&nbsp;两种蜂鸣器的引脚都朝上放置时，可以看出有绿色电路板的一种是无源蜂鸣器，没有电路板而用黑胶封闭的一种是有源蜂鸣器。  </p>
</li>
<li><p>测试声音不同:<br>&nbsp;&nbsp;&nbsp;&nbsp;用黑表笔接蜂鸣器 ‘+’引脚，红表笔在另一引脚上来回碰触，如果发出咔咔声且电阻只有8Ω（或16Ω）的是无源蜂鸣器；如果能发出持续声音的，且电阻在几百欧以上的，是有源蜂鸣器。  </p>
</li>
<li><p>振动频率不同：<br>&nbsp;&nbsp;&nbsp;&nbsp;用直流电压输入相应电压（可以由小调到大），频率大概为2.7KHz,可以直接响的为有源电磁式蜂鸣器，不直接响的，需要用2k~ 5k的方波去驱动它。因为无源内部不带震荡源。而有源蜂鸣器往往比无源的贵，就是因为里面有多个震荡电路。  </p>
<p>扩展：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;蜂鸣器驱动电路一般包含：一个三极管、一个续流二极管、一个滤波电容、一个蜂鸣器。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;蜂鸣器作为发声元件，在其两端施加方波或者电压就可以发声。  </p>
</li>
<li><p>续流二极管起到提供续流的作用，否则在蜂鸣器的两端会产生几十伏的尖端电压，有可能将三极管损坏，还有可能干扰整个电路中的其它部分。  </p>
</li>
<li><p>滤波电容的作用是滤波，滤出蜂鸣器电流对其它部分的影响，并且起到了改善电源的交流阻抗。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
</li>
</ul>
<p>^ 单片机不是功率器件，它适合做控制用，不适合驱动功率器件。（直接驱动有可能会损坏单片机)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </p>
<h2 id="三极管工作原理"><a href="#三极管工作原理" class="headerlink" title="三极管工作原理:"></a>三极管工作原理:</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </p>
<p>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="https://iknow-pic.cdn.bcebos.com/574e9258d109b3de20c00c65c1bf6c81800a4c44?x-bce-process=image/resize,m_lfit,w_600,h_800,limit_1">  </p>
<ul>
<li>BASE(基极)  </li>
<li>COLLECTOR（集电极）  </li>
<li>EMITTER（发射极）  </li>
</ul>
<p>PNP三极管：  </p>
<ul>
<li><p>如果IE~ IB流过的电流大于1mA，则导通；  </p>
</li>
<li><p>如果IE~ IB没有流过电流，则EC截至，处于中断状态； </p>
</li>
<li><p>如果发射极E &gt;0.7V 基极B,也会导通EC； </p>
<p>NPN三极管：  </p>
</li>
<li><p>如果IB~ IE流过的电流大于1mA,则EC导通；</p>
</li>
<li><p>如果IB~ IE,没有流过电流，则EC截至，处于中断状态； </p>
</li>
<li><p>如果基极B &gt;0.7V 发射机E，也会导通EC；<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </p>
<blockquote>
<p>流水灯蜂鸣器代码：  </p>
</blockquote>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </p>
</li>
</ul>
<p>#include &lt;reg52.h&gt;  </p>
<p>#include&lt;intrins.h&gt;</p>
<p>#define uint unsigned int  </p>
<p>#define uchar unsigned char  </p>
<p>sbit beep = P2^3;</p>
<p>uchar temp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //LED灯相关变量  </p>
<p>void delay(uint z) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 毫秒级延时函数<br>{  </p>
<pre><code>uint x,y;
for(x = z; x &gt; 0; x--)
    for(y = 144;y &gt; 0; y--);</code></pre>
<p>}</p>
<p>void main()<br>{    </p>
<pre><code>temp = 0xfe;    
P1 = temp;    // 1111 1110
delay(100);
while(1)
&#123;
temp = _crol_(temp,1);
P1 = temp;
beep = ~beep;
delay(100);
&#125;    </code></pre>
<p>} </p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2020/11/09/STC89C51单片机/"><span>STC89C51</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2020/11/09/STC89C51单片机/" rel="bookmark">
        <time class="entry-date published" datetime="2020-11-09T04:22:22.000Z">
          2020-11-09
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <a id="more"></a>
<p>例如：AT89S51、STC89C51、STC89C52、STC90C516等等这些单片机内核都为80C51，所以内核为80C51的单片机都属于51单片机。</p>
<p>单片机是一种数字集成芯片，数字电路中只有两种电平：“高电平和低电平”  </p>
<ul>
<li>高电平： 5V  </li>
<li>低电平： 0V<br>51单片机上电后默认全为高电平<br>51单片机大多数采用TTL电平，是因为通常数据表示采用二进制，”5V“ 等于逻辑 ‘1’，“0V” 等价于逻辑 ‘0’，TTl电平规定高电平输出电压&gt;2.4V,低电平输出电压&lt;0.4V。  </li>
</ul>
<p>计算机串口使用的是RS232电平</p>
<ul>
<li>高电平：-12V</li>
<li>低电平：+12V<br>单片机与计算机串口通信时需要使用电平转换芯片将RS232电平转化为TTL电平后单片机才能识别。  </li>
</ul>
<p>单片机最小系统能够运行起来的必要条件：</p>
<ul>
<li>电源</li>
<li>晶振</li>
<li>复位电路</li>
</ul>
<p>STC公司单片机命名规则：<br>STC89  XX  XX  35  X  XXXX  XX  </p>
<ul>
<li>工作电压：C：5.5V~ 3.8V &nbsp;&nbsp; LE:3.6V~ 3.4V or 3.4V~ 2.4V</li>
<li>程序空间及RAM空间大小：&nbsp; 51是4K字节程序空间及512字节RAM空间；<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52是8k字节程序空间及512字节RAM空间；<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;514是56字节程序空间及1280字节RAM空间；  </li>
<li>工作频率： 35：工作频率可达到35MHZ。  </li>
<li>工作温度范围： I: 工业级 -40°~ 85°<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C: 商业级 0°~ 70°</li>
</ul>
<h2 id="LED灯："><a href="#LED灯：" class="headerlink" title="LED灯："></a>LED灯：</h2><p>（点亮LED灯只需要控制IO口输出相应电平可以使电流经电路即可）  </p>
<p>LED灯正负极判断：  </p>
<p>（直插式LED灯）通常长脚为正极，短脚为负极。<br>（贴片式LED灯） 通常有绿点的一段为负极，另一端为正极。  </p>
<p>LED工作参数：  </p>
<p> 普通发光二极管工作压降为： 1.6V~ 2.1V<br> 普通二极管工作压降为： 0.7V<br> 工作电流： 1~ 20 mA<br> (二极管有压降，大约为2V左右)</p>
<blockquote>
<p>51点亮第一颗LED灯代码：  </p>
</blockquote>
<p> #include&lt;reg52.h&gt;  //引用51头文件</p>
<p>sbit LED1 = P1^0;</p>
<p>void main()<br>{<br>    LED1 = 0;<br>} </p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>




<nav class="pagination">
  
  
</nav>
    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2020 7heng
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>